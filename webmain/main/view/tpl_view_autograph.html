<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>签名</title>
<link rel="stylesheet" href="webmain/css/css.css" />
<script type="text/javascript" src="web/res/js/jquery.1.9.1.min.js"></script>
<script type="text/javascript" src="js/js.js"></script>
<script type="text/javascript" src="js/base64-min.js"></script>
<script type="text/javascript" src="mode/plugin/jquery-signature.js"></script>

<script>
var qianmingbo = false;
function initbody(){
	ismobile = js.request('ism');
	var hei = winHb()-22,
		wei = winWb()-22;
	$('#qianmingdiv').attr('data-height',hei);
	$('#qianmingdiv').attr('data-width',wei);
	$('#qianmingdiv').jqSignature().on('jq.signature.changed', function() {
		qianmingbo = true;	
	});
	if(ismobile==1)get('qianmingdiv').addEventListener('touchmove',function(e){
		e.preventDefault();
	},false);
}
//返回签名内容
autographok=function(){
	if(!qianmingbo)return '';
	return $('#qianmingdiv').jqSignature('getDataURL');
}
//重写
autographre=function(){
	$('#qianmingdiv').jqSignature('clearCanvas');
	qianmingbo = false;
}
</script>
</head>
<body style="background:white">
<div data-width="280" data-height="120" data-border="1px dashed #cccccc" data-line-color="#000000" data-auto-fit="true" id="qianmingdiv" style="margin:10px;height:120px;cursor:default"></div>
</body>
</html>